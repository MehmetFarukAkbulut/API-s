<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Uzay Panosu</title>
  <style>
    :root { --bg:#0b1221; --panel:#101a30; --accent:#22d3ee; --text:#e5e7eb; --muted:#94a3b8; }
    *{box-sizing:border-box;}
    body{margin:0;font-family:"Inter","Segoe UI",sans-serif;background:radial-gradient(circle at 20% 20%,rgba(34,211,238,0.08),transparent 30%),linear-gradient(135deg,#0b1221,#0f172a);color:var(--text);}
    header{max-width:1100px;margin:0 auto;padding:26px 16px 10px;display:flex;align-items:center;gap:12px;flex-wrap:wrap;}
    .btn-home{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.15);background:rgba(34,211,238,0.12);color:#7dd3fc;text-decoration:none;}
    h1{margin:0;font-size:30px;letter-spacing:0.3px;}
    p.lead{margin:6px 0 0;color:var(--muted);}
    .panel{max-width:1100px;margin:0 auto 26px;padding:16px;background:var(--panel);border:1px solid rgba(255,255,255,0.06);border-radius:14px;box-shadow:0 20px 60px rgba(0,0,0,0.35);}
    .bar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:12px;}
    input{padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.12);background:#0c1528;color:#fff;}
    .btn{border:none;padding:10px 14px;border-radius:10px;background:linear-gradient(120deg,rgba(34,211,238,0.6),rgba(168,85,247,0.5));color:#fff;cursor:pointer;transition:all .2s;box-shadow:0 10px 30px rgba(0,0,0,0.25);}
    .btn:hover{transform:translateY(-1px);box-shadow:0 15px 40px rgba(34,211,238,0.25);}
    .card{padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:#0f182c;}
    img.pic{width:100%;border-radius:10px;margin-bottom:10px;}
    .badge{display:inline-block;padding:4px 8px;border-radius:999px;background:rgba(34,211,238,0.12);border:1px solid rgba(34,211,238,0.3);color:#7dd3fc;font-size:12px;}
    .muted{color:var(--muted);}
  </style>
</head>
<body>
  <header>
    <a class="btn-home" href="../index.html">Ana sayfa</a>
    <div>
      <h1>Uzay Panosu</h1>
      <p class="lead">NASA APOD üzerinden rastgele/bugünkü görsel ve tarih araması.</p>
    </div>
  </header>
  <div class="panel">
    <div class="bar">
      <button class="btn" id="today">Bugün</button>
      <button class="btn" id="random">Rastgele</button>
      <input type="date" id="date">
      <button class="btn" id="byDate">Tarihe git</button>
      <span class="badge" id="status">Hazır</span>
    </div>
    <div class="card" id="card">Yükleniyor...</div>
  </div>
  <script>
  (function(){
    const card=document.getElementById("card");
    const status=document.getElementById("status");
    const dateInput=document.getElementById("date");
    const KEY="DEMO_KEY"; // kendi key'iniz varsa değiştirin
    const today=new Date(); dateInput.max=today.toISOString().split("T")[0];

    function render(data){
      card.innerHTML=`<div class="badge">${data.date||""}</div>
        <h3>${data.title||""}</h3>
        ${data.url ? `<img class="pic" src="${data.url}" alt="${data.title||""}">` : ""}
        <p class="muted">${data.explanation||""}</p>`;
    }

    async function load(url){
      try{
        status.textContent="Yükleniyor...";
        const r=await fetch(url);
        const j=await r.json();
        const data=Array.isArray(j)?j[0]:j;
        render(data);
        status.textContent="Hazır";
      }catch(e){
        status.textContent="Hata";
        card.innerHTML="Veri alınamadı. DEMO_KEY limiti dolu olabilir veya API ulaşılamıyor.";
      }
    }
    const keyOrDemo=()=>KEY;
    document.getElementById("today").addEventListener("click", ()=>load(`https://api.nasa.gov/planetary/apod?api_key=${keyOrDemo()}`));
    document.getElementById("random").addEventListener("click", ()=>load(`https://api.nasa.gov/planetary/apod?api_key=${keyOrDemo()}&count=1`));
    document.getElementById("byDate").addEventListener("click", ()=>{
      const d=dateInput.value;
      if(!d){status.textContent="Tarih seçin";return;}
      load(`https://api.nasa.gov/planetary/apod?api_key=${keyOrDemo()}&date=${d}`);
    });
    load(`https://api.nasa.gov/planetary/apod?api_key=${keyOrDemo()}`);
  })();
  </script>
</body>
</html>
