<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RPS-25 (Lokal)</title>
  <style>
    :root{
      --bg:#050816;--panel:#0b1120;--accent:#22d3ee;--accent2:#a855f7;
      --text:#e5e7eb;--muted:#94a3b8;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;font-family:"Inter","Segoe UI",sans-serif;color:var(--text);
      background:
        radial-gradient(circle at 10% 0%,rgba(34,211,238,0.14),transparent 55%),
        radial-gradient(circle at 90% 100%,rgba(168,85,247,0.18),transparent 55%),
        linear-gradient(135deg,#020617,#020617 40%,#0b1221);
      min-height:100vh;overflow-x:hidden;
    }
    body::before,body::after{
      content:"";position:fixed;inset:auto;width:420px;height:420px;border-radius:999px;
      background:radial-gradient(circle at 30% 30%,rgba(34,211,238,0.34),transparent 60%);
      mix-blend-mode:screen;filter:blur(4px);opacity:0.75;z-index:-1;pointer-events:none;
      animation:blobA 22s ease-in-out infinite alternate;
    }
    body::after{
      width:520px;height:520px;
      background:radial-gradient(circle at 70% 70%,rgba(168,85,247,0.33),transparent 60%);
      animation:blobB 26s ease-in-out infinite alternate;
    }
    @keyframes blobA{
      0%{transform:translate3d(-20%,-10%,0) scale(1);}
      50%{transform:translate3d(10%,30%,0) scale(1.15);}
      100%{transform:translate3d(-5%,55%,0) scale(0.9);}
    }
    @keyframes blobB{
      0%{transform:translate3d(40%,-30%,0) scale(1.1);}
      50%{transform:translate3d(10%,10%,0) scale(0.95);}
      100%{transform:translate3d(35%,40%,0) scale(1.2);}
    }
    header{
      max-width:1100px;margin:0 auto;
      padding:26px 16px 10px;display:flex;gap:12px;align-items:center;flex-wrap:wrap;
      animation:fadeDown .7s ease-out forwards;opacity:0;
    }
    h1{
      margin:0;font-size:30px;letter-spacing:0.3px;display:flex;gap:8px;align-items:center;
    }
    h1::after{
      content:"";flex:1;height:1px;
      background:linear-gradient(90deg,rgba(34,211,238,0.5),transparent);opacity:.6;
    }
    .lead{margin:2px 0 0;font-size:14px;color:var(--muted);}
    .btn{
      padding:9px 12px;border-radius:10px;
      border:1px solid rgba(255,255,255,0.15);
      background:rgba(34,211,238,0.12);color:#7dd3fc;
      text-decoration:none;cursor:pointer;
      transition:transform .2s,box-shadow .2s;
    }
    .btn:hover{
      transform:translateY(-1px);
      box-shadow:0 15px 40px rgba(34,211,238,0.18);
    }
    .panel{
      max-width:1100px;margin:0 auto 20px;padding:14px;
      border-radius:18px;border:1px solid rgba(148,163,184,0.35);
      background:
        radial-gradient(circle at 0 0,rgba(34,211,238,0.12),transparent 55%),
        radial-gradient(circle at 100% 100%,rgba(168,85,247,0.18),transparent 55%),
        linear-gradient(145deg,rgba(15,23,42,0.97),rgba(15,23,42,0.88));
      box-shadow:0 24px 80px rgba(15,23,42,0.95),0 0 0 1px rgba(15,23,42,0.9) inset;
      backdrop-filter:blur(16px);position:relative;overflow:hidden;
      animation:fadeUp .8s ease-out forwards;opacity:0;
    }
    .score{
      display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-bottom:8px;
    }
    .badge{
      display:inline-block;padding:4px 8px;border-radius:999px;
      background:rgba(15,23,42,1);
      border:1px solid rgba(34,211,238,0.55);
      color:#7dd3fc;font-size:12px;
    }

    /* ARENA √úSTTE */
    .arena{
      position:relative;
      margin:10px 0 14px;
      padding:14px 10px 10px;
      border:1px solid rgba(148,163,184,0.28);
      border-radius:14px;
      background:
        radial-gradient(circle at 20% 20%,rgba(34,211,238,0.12),transparent 60%),
        radial-gradient(circle at 80% 70%,rgba(168,85,247,0.14),transparent 60%),
        linear-gradient(145deg,rgba(10,15,30,0.9),rgba(15,23,42,0.92));
      overflow:hidden;
      min-height:220px;
      box-shadow:0 10px 35px rgba(0,0,0,0.55) inset,
                 0 10px 40px rgba(8,47,73,0.35);
    }
    .arena::before,
    .arena::after{
      content:"";position:absolute;inset:0;
      opacity:0.3;mix-blend-mode:screen;
    }
    .arena::before{
      background:repeating-linear-gradient(
        90deg,rgba(148,163,184,0.06) 0 1px,transparent 1px 32px
      );
    }
    .arena::after{
      background:radial-gradient(circle at 50% 60%,rgba(34,211,238,0.18),transparent 50%);
      opacity:0.5;
    }
    .fighters{
      position:relative;height:180px;
      display:flex;align-items:flex-end;justify-content:space-between;
      gap:12px;z-index:1;
    }
    .fighter{
      width:180px;max-width:42vw;aspect-ratio:1/1;
      position:relative;border-radius:16px;overflow:hidden;
      border:1px solid rgba(255,255,255,0.18);
      box-shadow:0 15px 45px rgba(0,0,0,0.55);
      transform-origin:center;
      background:rgba(15,23,42,0.95);
    }
    .fighter img{
      width:100%;height:100%;object-fit:cover;display:block;
      filter:saturate(1.05);
    }
    .fighter .label{
      position:absolute;left:10px;right:10px;bottom:10px;
      padding:6px 10px;border-radius:12px;
      background:rgba(0,0,0,0.55);color:#e5e7eb;
      font-weight:600;letter-spacing:0.3px;
      box-shadow:0 10px 30px rgba(0,0,0,0.4);
      text-shadow:0 6px 20px rgba(0,0,0,0.6);
    }
    .clash{
      position:absolute;left:50%;top:60%;
      width:120px;height:120px;
      transform:translate(-50%,-50%);
      border-radius:999px;
      background:radial-gradient(circle,rgba(255,255,255,0.4),rgba(34,211,238,0.15),transparent 70%);
      filter:blur(12px);
      opacity:0;pointer-events:none;
    }
    .burst{
      position:absolute;inset:0;
      background:radial-gradient(circle,rgba(255,255,255,0.55),rgba(34,211,238,0.25),transparent 60%);
      border-radius:50%;opacity:0;pointer-events:none;
    }
    .battle-meta{
      display:flex;justify-content:space-between;align-items:center;
      gap:10px;margin-top:8px;color:var(--muted);font-size:13px;flex-wrap:wrap;
    }

    /* BUTONLAR (HAMLELER) ALTA */
    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
      gap:12px;
      margin-top:6px;
    }
    .tile{
      background:radial-gradient(circle at 0 0,rgba(15,23,42,1),rgba(15,23,42,0.98));
      border:1px solid rgba(148,163,184,0.4);
      border-radius:12px;padding:12px;cursor:pointer;
      transition:transform .2s,box-shadow .2s,border-color .2s;
      display:flex;align-items:center;gap:10px;
      box-shadow:0 16px 40px rgba(15,23,42,0.95),
                 0 0 0 1px rgba(15,23,42,1) inset;
    }
    .tile:hover{
      transform:translateY(-2px) scale(1.03);
      border-color:rgba(34,211,238,0.35);
      box-shadow:0 18px 46px rgba(8,47,73,0.95),
                 0 0 0 1px rgba(15,23,42,1) inset;
    }
    .tile .icon{
      font-size:26px;width:36px;height:36px;border-radius:10px;
      background:linear-gradient(135deg,rgba(34,211,238,0.2),rgba(168,85,247,0.25));
      display:flex;align-items:center;justify-content:center;
      color:transparent;
      background-size:cover;background-position:center;
    }
    .tile strong{color:#9cabb9;font-weight:600;}
    .tile .muted{color:#7192bb !important;}
    .tile:hover strong{color:#ddcfcf;}
    .tile:hover .muted{color:#a5b3c4 !important;}

    .result{
      margin-top:12px;padding:14px;border-radius:12px;
      border:1px solid rgba(148,163,184,0.35);
      background:radial-gradient(circle at 0 0,rgba(15,23,42,1),rgba(15,23,42,0.98));
      box-shadow:0 12px 32px rgba(15,23,42,0.9);
      font-size:14px;
    }

    @keyframes fadeDown{
      from{opacity:0;transform:translateY(-12px);}
      to{opacity:1;transform:translateY(0);}
    }
    @keyframes fadeUp{
      from{opacity:0;transform:translateY(14px);}
      to{opacity:1;transform:translateY(0);}
    }
  </style>
</head>
<body>
  <header>
    <a class="btn" href="../index.html">Ana sayfa</a>
    <div>
      <h1>RPS-25</h1>
      <p class="lead">
        Tamamen lokal, 25 hamleli ta≈ü-k√¢ƒüƒ±t-makas varyasyonu. Her hamle kendisinden sonraki 12 hamleyi yener.
      </p>
    </div>
  </header>

  <div class="panel">
    <div class="score">
      <span class="badge">Kurallar: Dairedeki sƒ±raya g√∂re her hamle sonraki 12 hamleyi yener.</span>
      <span class="badge" id="status">Hamle se√ß, rakip rastgele.</span>
    </div>

    <!-- √áarpƒ±≈üma ARENASI (√ºstte) -->
    <div class="arena" id="arena">
      <div class="fighters">
        <div class="fighter" id="fighterA">
          <img id="imgA" alt="Senin hamlen">
          <div class="label" id="labelA">Sen</div>
          <div class="burst"></div>
        </div>
        <div class="clash" id="clash"></div>
        <div class="fighter" id="fighterB">
          <img id="imgB" alt="Rakip hamlesi">
          <div class="label" id="labelB">Rakip</div>
          <div class="burst"></div>
        </div>
      </div>
      <div class="battle-meta" id="battleMeta">
        <span>Se√ßim yap ve √ßarpƒ±≈ümayƒ± izle.</span>
        <span id="battleResult"></span>
      </div>
    </div>

    <!-- Hamle butonlarƒ± (altta) -->
    <div class="grid" id="grid"></div>

    <div class="result" id="result">Sonu√ß bekleniyor...</div>
  </div>

  <script>
  (function(){
    // Ba≈ülangƒ±√ßta g√∂r√ºnen avatarlar ‚Äì buraya kendi URL'lerini yazabilirsin.
    const defaultPlayerImg =
      "https://scontent.fist20-2.fna.fbcdn.net/o1/v/t0/f2/m421/AQPj_OsU7YpE9XPdzkuMeMyNq3eumEJEi6MYqyhE5RbvoDcfB2bylAG83e7wPw2ysCi0225SQmTy-466gOdVO1dQUbZ5MxF5NQNQmwD0fcKXj8JBnViFywND9mRq4_g.jpeg?_nc_ht=scontent.fist20-2.fna.fbcdn.net&_nc_gid=zNTbqmt1efSCYWjODJqnkw&_nc_cat=100&_nc_oc=AdlZKHGTd0nxW4tR8xjkcN9xq-2n3K9hBJThPjKMeLST55La9zYcbJrygr9YCc2PR7U&ccb=9-4&oh=00_AfiLOFPbrSTg1QgK0f6h1JeooIlHdyxXaIdeASy9cILdXw&oe=692807F6&_nc_sid=5b3566";
    const defaultCpuImg =
      "https://universretro.com/cdn/shop/files/plankton_616x1000trim_min-u7dv.webp?v=1751478404&width=1946";

    const moves=[
      {name:"Rock",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQmNUmLt7AEqF8q9B3JkdtlqfeejbPbYcrBiw&s",emoji:"ü™®"},
      {name:"Gun",img:"https://gatguns.com/wp-content/uploads/2024/03/05/06/rostmartin-rm1c-black.1708549237676-500x333.png",emoji:"üî´"},
      {name:"Dynamite",img:"https://cdn.mos.cms.futurecdn.net/v2/t:0,l:17,cw:1165,ch:874,q:80,w:1165/ic54kLr9zHuFbRxHnzHpu8.jpg",emoji:"üß®"},
      {name:"Nuke",img:"https://miro.medium.com/1*nqDN9NX6NMrKAdxNwZDdCg.jpeg",emoji:"‚ò¢Ô∏è"},
      {name:"Lightning",img:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Port_and_lighthouse_overnight_storm_with_lightning_in_Port-la-Nouvelle.jpg/1200px-Port_and_lighthouse_overnight_storm_with_lightning_in_Port-la-Nouvelle.jpg",emoji:"‚ö°"},
      {name:"Devil",img:"https://img.freepik.com/free-vector/red-devil-face-vector-logo_43623-1006.jpg?semt=ais_hybrid&w=740&q=80",emoji:"üòà"},
      {name:"Dragon",img:"https://www.shutterstock.com/image-vector/fiery-breath-dragon-illustration-wings-600nw-2675224975.jpg",emoji:"üêâ"},
      {name:"Alien",img:"https://www.bilimkurgukulubu.com/wp-content/uploads/2020/05/alien-kronoloji.jpg",emoji:"üëΩ"},
      {name:"Water",img:"https://siwi.org/wp-content/uploads/2021/09/colorful-water-drop-splash-e1635164525186.jpg",emoji:"üåä"},
      {name:"Bowl",img:"https://static.wixstatic.com/media/51e4ed_95863acfbdad4430ae4bf320c71404fb~mv2.jpeg/v1/fill/w_260,h_270,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/51e4ed_95863acfbdad4430ae4bf320c71404fb~mv2.jpeg",emoji:"ü•£"},
      {name:"Air",img:"https://ih1.redbubble.net/image.381821348.8748/flat,750x,075,f-pad,750x1000,f8f8f8.jpg",emoji:"üí®"},
      {name:"Moon",img:"https://static.scientificamerican.com/dam/m/63580c9277ce5cdb/original/full_moon_rising_over_salish_sea.jpg?m=1729193952.743&w=1200",emoji:"üåô"},
      {name:"Paper",img:"https://images.stockcake.com/public/b/7/b/b7b8ac23-8f72-4b2f-a3ad-4909e229aba4_large/crumpled-paper-texture-stockcake.jpg",emoji:"üìÑ"},
      {name:"Sponge",img:"https://static.wikitide.net/greatcharacterswiki/f/f9/Xfgfjbvdhbvjhsdb.png",emoji:"üßΩ"},
      {name:"Wolf",img:"https://i.pinimg.com/originals/54/5f/b1/545fb1f9617ea77e56ea9666d1f8edc2.jpg",emoji:"üê∫"},
      {name:"Cockroach",img:"https://i.pinimg.com/736x/aa/65/91/aa65918bd458aa426759a36d4fcb8547.jpg",emoji:"ü™≥"},
      {name:"Tree",img:"https://cdn.britannica.com/98/214598-050-9879F2FA/giant-sequoia-tree-Sequoia-National-Park-California.jpg",emoji:"üå≤"},
      {name:"Man",img:"https://i.ytimg.com/vi/WfGMYdalClU/maxresdefault.jpg?sqp=-oaymwEmCIAKENAF8quKqQMa8AEB-AH2CYAC0AWKAgwIABABGGUgXSgtMA8=&rs=AOn4CLCOViFQXJhcIw9N8QM-3kXWVCTkyw",emoji:"üßî"},
      {name:"Woman",img:"https://www.shutterstock.com/image-vector/woman-shows-her-biceps-demonstrating-600nw-2414495469.jpg",emoji:"üë©"},
      {name:"Monkey",img:"https://media.newyorker.com/photos/59095bb86552fa0be682d9d0/master/pass/Monkey-Selfie.jpg",emoji:"üêí"},
      {name:"Snake",img:"https://static.scientificamerican.com/dam/m/502204c8f8e0d0c5/original/pit-viper-snake.jpg?m=1739395349.928&crop=4%3A3%2Csmart&w=1200",emoji:"üêç"},
      {name:"Axe",img:"https://strictblacksmith.com/cdn/shop/files/viking-axe-handmade-ulfhednar-warriorsancientsmithyancientsmithy-154508.jpg?v=1726657265&width=1946",emoji:"ü™ì"},
      {name:"Scissors",img:"https://breeze-media.vega.co.in/media/catalog/product/cache/1ef41c8834aa6b772f4686b0f4051c34/1/h/1hh.webp",emoji:"‚úÇÔ∏è"},
      {name:"Fire",img:"https://lexipol.brightspotcdn.com/dims4/default/98cbf54/2147483647/strip/true/crop/1200x676+0+191/resize/1000x563!/quality/90/?url=https%3A%2F%2Fk1-prod-lexipol.s3.us-east-2.amazonaws.com%2Fbrightspot%2F8d%2F3c%2Fd2786777f1496d859205af18d88f%2Ffire030220.jpeg",emoji:"üî•"},
      {name:"Sun",img:"https://www.thesun.co.uk/wp-content/uploads/2024/01/teletubbies-sun-baby-jess-smith-308886127.jpg?strip=all&w=768",emoji:"‚òÄÔ∏è"}
    ];

    const grid=document.getElementById("grid");
    const resultBox=document.getElementById("result");
    const status=document.getElementById("status");
    const fighterA=document.getElementById("fighterA");
    const fighterB=document.getElementById("fighterB");
    const imgA=document.getElementById("imgA");
    const imgB=document.getElementById("imgB");
    const labelA=document.getElementById("labelA");
    const labelB=document.getElementById("labelB");
    const clash=document.getElementById("clash");
    const battleResult=document.getElementById("battleResult");

    // ƒ∞lk a√ßƒ±lƒ±≈üta g√∂r√ºnmesi i√ßin
    imgA.src = defaultPlayerImg;
    imgB.src = defaultCpuImg;

    function decide(aIdx,bIdx){
      if(aIdx===bIdx) return "draw";
      const diff=(bIdx - aIdx + moves.length) % moves.length;
      return diff<=12 ? "a" : "b";
    }

    function seededRand(seed, min, max){
      const x = Math.sin(seed) * 10000;
      const v = x - Math.floor(x);
      return min + v*(max-min);
    }

    // √áarpƒ±≈üma i√ßin stil se√ßimi (her √ßift i√ßin deterministik)
    function pickStyle(myIdx, foeIdx){
      const seed = myIdx*31 + foeIdx*17;
      return Math.floor(seededRand(seed,0,4)); // 0,1,2,3
    }

    function animateBattle(myIdx, foeIdx, outcome){
      const me = moves[myIdx];
      const foe = moves[foeIdx];
      const seed = myIdx*37 + foeIdx*13;
      const angle = seededRand(seed, -14, 14);
      const drop = seededRand(seed+1, 12, 32);
      const style = pickStyle(myIdx,foeIdx);

      imgA.src = me.img;
      imgB.src = foe.img;
      labelA.textContent = `Sen: ${me.name}`;
      labelB.textContent = `Rakip: ${foe.name}`;

      const arriveOpts = {duration:720,easing:"cubic-bezier(.18,.8,.32,1.05)",fill:"forwards"};
      let leftFrames,rightFrames;

      // Geli≈ü animasyonlarƒ± stil bazlƒ±
      switch(style){
        case 0: // klasik √∂nden √ßarpƒ±≈üma
          leftFrames = [
            {transform:"translate(-140%,10px) rotate(-6deg)"},
            {transform:`translate(-40%,${angle}px) rotate(-2deg)`},
            {transform:"translate(0,0) rotate(0deg)"}
          ];
          rightFrames = [
            {transform:"translate(140%,10px) rotate(6deg)"},
            {transform:`translate(40%,${-angle}px) rotate(2deg)`},
            {transform:"translate(0,0) rotate(0deg)"}
          ];
          break;
        case 1: // yay √ßizerek √ºstten giri≈ü
          leftFrames = [
            {transform:"translate(-160%,40px) rotate(-12deg)"},
            {transform:"translate(-60%,-20px) rotate(-4deg)"},
            {transform:"translate(0,0) rotate(0deg)"}
          ];
          rightFrames = [
            {transform:"translate(160%,40px) rotate(12deg)"},
            {transform:"translate(60%,-20px) rotate(4deg)"},
            {transform:"translate(0,0) rotate(0deg)"}
          ];
          break;
        case 2: // alttan zƒ±playarak giri≈ü
          leftFrames = [
            {transform:"translate(-120%,80px) scale(0.9)"},
            {transform:"translate(-40%,-10px) scale(1.05)"},
            {transform:"translate(0,0) scale(1)"}
          ];
          rightFrames = [
            {transform:"translate(120%,80px) scale(0.9)"},
            {transform:"translate(40%,-10px) scale(1.05)"},
            {transform:"translate(0,0) scale(1)"}
          ];
          break;
        default: // hafif titre≈üimli giri≈ü
          leftFrames = [
            {transform:"translate(-130%,0) rotate(-4deg)"},
            {transform:"translate(-60%,4px) rotate(-1deg)"},
            {transform:"translate(-10%,-2px) rotate(1deg)"},
            {transform:"translate(0,0) rotate(0deg)"}
          ];
          rightFrames = [
            {transform:"translate(130%,0) rotate(4deg)"},
            {transform:"translate(60%,4px) rotate(1deg)"},
            {transform:"translate(10%,-2px) rotate(-1deg)"},
            {transform:"translate(0,0) rotate(0deg)"}
          ];
      }

      const leftAnim = fighterA.animate(leftFrames, arriveOpts);
      const rightAnim = fighterB.animate(rightFrames, arriveOpts);

      Promise.all([leftAnim.finished, rightAnim.finished]).then(()=>{
        // √áarpƒ±≈üma ƒ±≈üƒ±ƒüƒ±
        clash.animate(
          [
            {opacity:0,transform:"translate(-50%,-50%) scale(0.7)"},
            {opacity:0.95,transform:"translate(-50%,-50%) scale(1.25)"},
            {opacity:0,transform:"translate(-50%,-50%) scale(1.7)"}
          ],
          {duration:480,easing:"ease-out"}
        );

        const burstL = fighterA.querySelector(".burst");
        const burstR = fighterB.querySelector(".burst");
        [burstL,burstR].forEach((el,i)=>{
          el.animate(
            [
              {opacity:0,transform:"scale(0.6)"},
              {opacity:0.9,transform:"scale(1.1)"},
              {opacity:0,transform:"scale(1.4)"}
            ],
            {duration:380,delay:i*60}
          );
        });

        if(outcome==="draw"){
          // Berabere animasyonu
          fighterA.animate(
            [
              {transform:"translate(0,0) scale(1)"},
              {transform:"translate(0,-8px) scale(1.05)"},
              {transform:"translate(0,0) scale(1)"}
            ],
            {duration:520,easing:"ease-in-out"}
          );
          fighterB.animate(
            [
              {transform:"translate(0,0) scale(1)"},
              {transform:"translate(0,-8px) scale(1.05)"},
              {transform:"translate(0,0) scale(1)"}
            ],
            {duration:520,easing:"ease-in-out",delay:60}
          );
          battleResult.textContent = "Berabere! ƒ∞ki sembol birbirini durdurdu.";
          return;
        }

        const winner = outcome==="a" ? fighterA : fighterB;
        const loser  = outcome==="a" ? fighterB : fighterA;

        // Kazanan animasyonlarƒ± stil bazlƒ± k√º√ß√ºk farklarla
        let winnerFrames, loserFrames;
        switch(style){
          case 0: // Yukarƒ± zƒ±playƒ±p parlƒ±yor
            winnerFrames = [
              {transform:"translate(0,0) scale(1)",filter:"brightness(1)"},
              {transform:"translate(0,-14px) scale(1.09)",filter:"brightness(1.2)"},
              {transform:"translate(0,-6px) scale(1.04)",filter:"brightness(1)"}
            ];
            loserFrames = [
              {transform:"translate(0,0) scale(1)",opacity:1,filter:"grayscale(0)"},
              {transform:`translate(${seededRand(seed,-20,20)}px,${drop}px) scale(0.95)`,opacity:0.3,filter:"grayscale(0.7)"},
              {transform:`translate(${seededRand(seed+2,-40,40)}px,${drop+24}px) scale(0.9)`,opacity:0,filter:"grayscale(1)"}
            ];
            break;
          case 1: // Yan darbeyle savrulma
            const push = outcome==="a" ? 80 : -80;
            const push2 = outcome==="a" ? 110 : -110;
            winnerFrames = [
              {transform:"translate(0,0) scale(1)"},
              {transform:`translate(${push/4}px,-10px) scale(1.06)`},
              {transform:`translate(0,-4px) scale(1.03)`}
            ];
            loserFrames = [
              {transform:"translate(0,0) scale(1)",opacity:1},
              {transform:`translate(${push}px,${drop}px) rotate(${push>0?8:-8}deg) scale(0.92)`,opacity:0.3},
              {transform:`translate(${push2}px,${drop+30}px) rotate(${push>0?16:-16}deg) scale(0.88)`,opacity:0}
            ];
            break;
          case 2: // Yukarƒ± fƒ±rlatƒ±p yere √ßakƒ±lma
            winnerFrames = [
              {transform:"translate(0,0) scale(1)"},
              {transform:"translate(0,-24px) scale(1.1)"},
              {transform:"translate(0,-10px) scale(1.04)"}
            ];
            loserFrames = [
              {transform:"translate(0,0) scale(1)",opacity:1},
              {transform:"translate(0,-30px) scale(0.96)",opacity:0.7},
              {transform:`translate(${seededRand(seed,-30,30)}px,${drop+26}px) scale(0.88)`,opacity:0}
            ];
            break;
          default: // Titre≈üerek s√∂nme
            winnerFrames = [
              {transform:"translate(0,0) scale(1)"},
              {transform:"translate(0,-10px) scale(1.07)"},
              {transform:"translate(0,-4px) scale(1.02)"}
            ];
            loserFrames = [
              {transform:"translate(0,0) scale(1)",opacity:1},
              {transform:"translate(-4px,3px) scale(0.98)",opacity:0.7},
              {transform:"translate(5px,6px) scale(0.96)",opacity:0.4},
              {transform:`translate(${seededRand(seed,-20,20)}px,${drop+18}px) scale(0.9)`,opacity:0}
            ];
        }

        winner.animate(
          winnerFrames,
          {duration:620,easing:"cubic-bezier(.2,1,.2,1)"}
        );
        loser.animate(
          loserFrames,
          {duration:640,easing:"cubic-bezier(.3,.6,.4,1)"}
        );

        battleResult.textContent = outcome==="a"
          ? `${me.name} ${foe.name} hamlesini par√ßaladƒ±.`
          : `${foe.name} √ºst√ºn geldi; ${me.name} yere serildi.`;
      });
    }

    function render(){
      grid.innerHTML=moves.map((m,idx)=>`
        <button class="tile" data-idx="${idx}">
          <span class="icon" style="background-image:url('${m.img}');">${m.emoji}</span>
          <div>
            <strong>${m.name}</strong>
            <div class="muted">#${idx+1}</div>
          </div>
        </button>
      `).join("");

      grid.querySelectorAll(".tile").forEach(btn=>{
        btn.addEventListener("click",()=>{
          const myIdx=Number(btn.dataset.idx);
          const foe=Math.floor(Math.random()*moves.length);
          const outcome=decide(myIdx,foe);

          let text="";
          if(outcome==="draw"){
            text=`Berabere! ${moves[myIdx].name} = ${moves[foe].name}`;
          }else if(outcome==="a"){
            text=`Kazandƒ±n! ${moves[myIdx].name} -> ${moves[foe].name}`;
          }else{
            text=`Kaybettin. ${moves[foe].name} -> ${moves[myIdx].name}`;
          }

          resultBox.innerHTML = `
            <div class="badge">Sen: ${moves[myIdx].name} ${moves[myIdx].emoji}</div>
            <div class="badge">Rakip: ${moves[foe].name} ${moves[foe].emoji}</div>
            <h3 style="margin:8px 0 4px;font-size:16px;">${text}</h3>
            <div class="muted">
              Y√∂ntem: Dairede her hamle kendisinden sonraki 12 hamleyi yener,
              √∂nceki 12 hamleye yenilir.
            </div>`;
          status.textContent="√áarpƒ±≈üma tamamlandƒ±, yeni hamle se√ß.";
          animateBattle(myIdx, foe, outcome);
        });
      });
    }
    render();
  })();
  </script>
</body>
</html>
